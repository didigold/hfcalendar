<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìÖ Calendario Colaborativo</title>
    <meta name="description" content="Calendario colaborativo en tiempo real para gesti√≥n de vacaciones del equipo">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÖ</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Conectando al servidor...</p>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <h1 class="header__title">üìÖ Calendario Colaborativo</h1>
                <div class="header__user">
                    <span class="connection-status" id="connectionStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">Conectando...</span>
                    </span>
                    <span class="header__user-name" id="currentUserName">Ana Garc√≠a</span>
                    <span class="status status--success" id="currentUserRole">Admin</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="calendar-layout">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="sidebar__section">
                        <div class="sidebar__header">
                            <h3>Miembros del Equipo</h3>
                            <button class="btn btn--sm btn--primary" id="addMemberBtn">
                                + Agregar
                            </button>
                        </div>
                        <div class="members-list" id="membersList">
                            <!-- Members will be rendered here -->
                        </div>
                    </div>

                    <div class="sidebar__section">
                        <h4>Tipos de Vacaciones</h4>
                        <div class="vacation-types">
                            <div class="vacation-type">
                                <span class="vacation-icon vacation-icon--vacation">üèñÔ∏è</span>
                                <span>Vacaciones</span>
                            </div>
                            <div class="vacation-type">
                                <span class="vacation-icon vacation-icon--personal">üë§</span>
                                <span>Personal</span>
                            </div>
                            <div class="vacation-type">
                                <span class="vacation-icon vacation-icon--sick">ü§í</span>
                                <span>Enfermedad</span>
                            </div>
                            <div class="vacation-type">
                                <span class="vacation-icon vacation-icon--training">üìö</span>
                                <span>Formaci√≥n</span>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Calendar Area -->
                <div class="calendar-area">
                    <!-- Calendar Controls -->
                    <div class="calendar-controls">
                        <div class="calendar-controls__navigation">
                            <button class="btn btn--icon" id="prevMonth" title="Mes anterior">
                                ‚Üê
                            </button>
                            <button class="btn btn--secondary" id="todayBtn">
                                Hoy
                            </button>
                            <button class="btn btn--icon" id="nextMonth" title="Mes siguiente">
                                ‚Üí
                            </button>
                        </div>

                        <h2 class="calendar-controls__title" id="calendarTitle">
                            Julio 2025
                        </h2>

                        <div class="calendar-controls__options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="showWeekNumbers">
                                <span class="checkbox-custom"></span>
                                N√∫meros de semana
                            </label>

                            <select class="select" id="viewSelect">
                                <option value="month">Vista Mensual</option>
                                <option value="week">Vista Semanal</option>
                                <option value="year">Vista Anual</option>
                            </select>
                        </div>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal for Adding/Editing Members -->
    <div class="modal" id="memberModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 id="memberModalTitle">Agregar Miembro</h3>
                <button class="btn btn--icon modal__close" id="closeMemberModal">
                    √ó
                </button>
            </div>
            <form class="modal__body" id="memberForm">
                <div class="form-group">
                    <label for="memberName" class="form-label">Nombre</label>
                    <input type="text" id="memberName" class="form-input" required>
                </div>

                <div class="form-group">
                    <label for="memberEmail" class="form-label">Email</label>
                    <input type="email" id="memberEmail" class="form-input" required>
                </div>

                <div class="form-group">
                    <label for="memberRole" class="form-label">Rol</label>
                    <select id="memberRole" class="form-select" required>
                        <option value="">Seleccionar rol</option>
                        <option value="admin">Admin</option>
                        <option value="editor">Editor</option>
                        <option value="viewer">Viewer</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Color</label>
                    <div class="color-picker" id="colorPicker">
                        <!-- Colors will be rendered here -->
                    </div>
                </div>

                <div class="modal__actions">
                    <button type="button" class="btn btn--secondary" id="cancelMemberBtn">
                        Cancelar
                    </button>
                    <button type="submit" class="btn btn--primary" id="saveMemberBtn">
                        Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Adding/Editing Vacations -->
    <div class="modal" id="vacationModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 id="vacationModalTitle">Agregar Vacaciones</h3>
                <button class="btn btn--icon modal__close" id="closeVacationModal">
                    √ó
                </button>
            </div>
            <form class="modal__body" id="vacationForm">
                <div class="form-group">
                    <label for="vacationMember" class="form-label">Miembro</label>
                    <select id="vacationMember" class="form-select" required>
                        <option value="">Seleccionar miembro</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="vacationStartDate" class="form-label">Fecha de inicio</label>
                        <input type="date" id="vacationStartDate" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label for="vacationEndDate" class="form-label">Fecha de fin</label>
                        <input type="date" id="vacationEndDate" class="form-input" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="vacationType" class="form-label">Tipo</label>
                    <select id="vacationType" class="form-select" required>
                        <option value="">Seleccionar tipo</option>
                        <option value="Vacaciones">üèñÔ∏è Vacaciones</option>
                        <option value="Personal">üë§ Personal</option>
                        <option value="Enfermedad">ü§í Enfermedad</option>
                        <option value="Formaci√≥n">üìö Formaci√≥n</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="vacationNotes" class="form-label">Notas (opcional)</label>
                    <textarea id="vacationNotes" class="form-textarea" rows="3" placeholder="Notas adicionales..."></textarea>
                </div>

                <div class="modal__actions">
                    <button type="button" class="btn btn--secondary" id="cancelVacationBtn">
                        Cancelar
                    </button>
                    <button type="button" class="btn btn--danger" id="deleteVacationBtn" style="display: none;">
                        Eliminar
                    </button>
                    <button type="submit" class="btn btn--primary" id="saveVacationBtn">
                        Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast">
        <div class="toast__content">
            <span class="toast__message" id="toastMessage"></span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>